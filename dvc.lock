schema: '2.0'
stages:
  data:
    cmd: python src/sns_mlops/data.py --dataset-name NOSIBLE/financial-sentiment
      --output-root data/processed --seed 42 --test-size 0.1 --val-size 0.1
      --small-size 2000 --dev-size 10000
    deps:
    - path: requirements.txt
      hash: md5
      md5: 0bf0a7e1390d5229a59fb38c31bec354
      size: 153
    - path: src/sns_mlops/data.py
      hash: md5
      md5: 227412e0ea5bd71e233d56bfaed57cd6
      size: 15752
    outs:
    - path: data/processed/dev
      hash: md5
      md5: ce2291642d00496dff6a1dcce7435e0d.dir
      size: 3903049
      nfiles: 4
    - path: data/processed/full
      hash: md5
      md5: a0c9fb66e6fd02e8accc97a65f04ee9f.dir
      size: 38553820
      nfiles: 4
    - path: data/processed/small
      hash: md5
      md5: c2e07a8a9a70e690dbd53f4c4bb261d9.dir
      size: 787566
      nfiles: 4
  train:
    cmd: python -m sns_mlops.train --tier small --processed-root data/processed
      --output-dir models/finbert --seed 42 --num-train-epochs 1 --max-length 64
      --per-device-train-batch-size 4 --per-device-eval-batch-size 8
      --max-train-samples 64 --max-eval-samples 64 --max-test-samples 64
      --save-total-limit 1 --save-model --no-save-checkpoints
    deps:
    - path: data/processed
      hash: md5
      md5: 7bb1a94528e40373822dd54cb692517b.dir
      size: 43244435
      nfiles: 12
    - path: requirements.txt
      hash: md5
      md5: 0bf0a7e1390d5229a59fb38c31bec354
      size: 153
    - path: src/sns_mlops/model.py
      hash: md5
      md5: 21f36daf5ee6ef7b390830b559ff6a5f
      size: 3414
    - path: src/sns_mlops/train.py
      hash: md5
      md5: de82736829d86f287aa567f3cf1681e7
      size: 11221
    outs:
    - path: models/finbert/small/metrics.json
      hash: md5
      md5: b7c71a5b74d3368232ab25ed59d4fb50
      size: 710
    - path: models/finbert/small/run_config.json
      hash: md5
      md5: 441592edd2c02ea88bb02629812752b5
      size: 7165
    - path: models/finbert/small/train.log
      hash: md5
      md5: 6d28f83f6053c577d04574f95dcb3e56
      size: 473

schema: '2.0'
stages:
  data:
    cmd: python src/sns_mlops/data.py --dataset-name NOSIBLE/financial-sentiment
      --output-root data/processed --seed 42 --test-size 0.1 --val-size 0.1
      --small-size 2000 --dev-size 10000
    deps:
    - path: requirements.txt
      hash: md5
      md5: 0bf0a7e1390d5229a59fb38c31bec354
      size: 153
    - path: src/sns_mlops/data.py
      hash: md5
      md5: 5a5bfcdb59ff7fb33ad228c9cab54638
      size: 19431
    outs:
    - path: data/processed/dev
      hash: md5
      md5: 88095d83b397198153fe38520229bcb7.dir
      size: 3903049
      nfiles: 4
    - path: data/processed/full
      hash: md5
      md5: 82804cd997ee2d538e5f6c078a60322c.dir
      size: 38553820
      nfiles: 4
    - path: data/processed/small
      hash: md5
      md5: 935dfc9f106d1d1e1b73712f46596498.dir
      size: 787566
      nfiles: 4
  train:
    cmd: python -m sns_mlops.train --tier small --processed-root data/processed
      --output-dir models/finbert --seed 42 --num-train-epochs 1 --max-length 64
      --per-device-train-batch-size 4 --per-device-eval-batch-size 8
      --max-train-samples 64 --max-eval-samples 64 --max-test-samples 64
      --save-total-limit 1 --save-model --no-save-checkpoints
    deps:
    - path: data/processed
      hash: md5
      md5: ea497b882adc688914ca2e18e30dbc9a.dir
      size: 43244435
      nfiles: 12
    - path: requirements.txt
      hash: md5
      md5: 0bf0a7e1390d5229a59fb38c31bec354
      size: 153
    - path: src/sns_mlops/model.py
      hash: md5
      md5: a256c3a89a45e680008314f6d06c02b3
      size: 5628
    - path: src/sns_mlops/train.py
      hash: md5
      md5: 787fd5ac4ada39865625ef6cdd1518bd
      size: 14057
    outs:
    - path: models/finbert/small/metrics.json
      hash: md5
      md5: 34311fbc6a73169704b351176253e493
      size: 711
    - path: models/finbert/small/run_config.json
      hash: md5
      md5: 69a01ba2d58f44c4a752c09b9280c6df
      size: 7165
    - path: models/finbert/small/train.log
      hash: md5
      md5: e94fd22f36ff3ce0277aa38b9296664a
      size: 473
